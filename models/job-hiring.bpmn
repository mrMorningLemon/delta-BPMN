<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_16aqnfd" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.5.0">
  <bpmn:process id="Process_1c7gz0u" isExecutable="true">
    <bpmn:extensionElements>
      <camunda:properties>
        <camunda:property name="verify" value="#qualif=False AND #winner !=NULL" />
      </camunda:properties>
    </bpmn:extensionElements>
    <bpmn:startEvent id="startEvent" name="Job Posted">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="pre" value="SELECT Jcid FROM JobCategory" />
          <camunda:property name="eff" value="#jcid = Jcid" />
        </camunda:properties>
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_0vxfzwh</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1yq9ggx" />
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0vxfzwh" sourceRef="startEvent" targetRef="Task_1kt5nny" />
    <bpmn:subProcess id="Task_1kt5nny">
      <bpmn:incoming>SequenceFlow_0vxfzwh</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_17kqnf2</bpmn:outgoing>
      <bpmn:startEvent id="StartEvent_0x27842">
        <bpmn:outgoing>SequenceFlow_0xt42o2</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:exclusiveGateway id="ExclusiveGateway_1x03ivf">
        <bpmn:incoming>SequenceFlow_0xt42o2</bpmn:incoming>
        <bpmn:incoming>SequenceFlow_19vpnym</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0wms8r6</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:intermediateCatchEvent id="IntermediateCatchEvent_1rzywbo" name="Application Received">
        <bpmn:extensionElements>
          <camunda:properties>
            <camunda:property name="pre" value="SELECT Uid, Name, Age FROM User" />
            <camunda:property name="eff" value="#uid = Uid" />
            <camunda:property name="eff" value="#name = Name" />
            <camunda:property name="eff" value="#age = Age" />
          </camunda:properties>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_09147ut</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0o6u60i</bpmn:outgoing>
        <bpmn:messageEventDefinition id="MessageEventDefinition_1ur2gek" />
      </bpmn:intermediateCatchEvent>
      <bpmn:task id="Task_0kwmdac" name="Evaluate CV">
        <bpmn:extensionElements>
          <camunda:properties>
            <camunda:property name="pre" value="TRUE" />
            <camunda:property name="eff" value="#qualif = q " />
            <camunda:property name="var" value="q : Bool" />
          </camunda:properties>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_0o6u60i</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_19kjve8</bpmn:outgoing>
      </bpmn:task>
      <bpmn:endEvent id="EndEvent_04k63ar" name="Stopped">
        <bpmn:incoming>SequenceFlow_0v9vnq6</bpmn:incoming>
        <bpmn:errorEventDefinition id="ErrorEventDefinition_07ce55p" />
      </bpmn:endEvent>
      <bpmn:exclusiveGateway id="ExclusiveGateway_1u34kgn">
        <bpmn:extensionElements>
          <camunda:properties>
            <camunda:property name="cond" value="#qualif=True" />
          </camunda:properties>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_19kjve8</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1lbudh0</bpmn:outgoing>
        <bpmn:outgoing>SequenceFlow_1iaew1a</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:task id="Task_0ae5lbb" name="Evaluate Application">
        <bpmn:extensionElements>
          <camunda:properties>
            <camunda:property name="pre" value="s&#62;=1 AND s&#60;=100" />
            <camunda:property name="var" value="s : NumScore" />
            <camunda:property name="eff" value="INSERT #jcid, #uid, #name, #age, s, UNDEF INTO App" />
          </camunda:properties>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_1iaew1a</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_19vpnym</bpmn:outgoing>
      </bpmn:task>
      <bpmn:endEvent id="EndEvent_09r3vrf">
        <bpmn:extensionElements>
          <camunda:properties>
            <camunda:property name="cond" value="#qualif=TRUE" />
          </camunda:properties>
        </bpmn:extensionElements>
        <bpmn:incoming>SequenceFlow_1lbudh0</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="SequenceFlow_0xt42o2" sourceRef="StartEvent_0x27842" targetRef="ExclusiveGateway_1x03ivf" />
      <bpmn:sequenceFlow id="SequenceFlow_0wms8r6" sourceRef="ExclusiveGateway_1x03ivf" targetRef="ExclusiveGateway_0zocpd2" />
      <bpmn:sequenceFlow id="SequenceFlow_0o6u60i" sourceRef="IntermediateCatchEvent_1rzywbo" targetRef="Task_0kwmdac" />
      <bpmn:sequenceFlow id="SequenceFlow_19kjve8" sourceRef="Task_0kwmdac" targetRef="ExclusiveGateway_1u34kgn" />
      <bpmn:sequenceFlow id="SequenceFlow_19vpnym" sourceRef="Task_0ae5lbb" targetRef="ExclusiveGateway_1x03ivf" />
      <bpmn:sequenceFlow id="SequenceFlow_1lbudh0" sourceRef="ExclusiveGateway_1u34kgn" targetRef="EndEvent_09r3vrf">
        <bpmn:extensionElements>
          <camunda:properties>
            <camunda:property name="cond" value="#qualif=True" />
          </camunda:properties>
        </bpmn:extensionElements>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="SequenceFlow_1iaew1a" sourceRef="ExclusiveGateway_1u34kgn" targetRef="Task_0ae5lbb">
        <bpmn:extensionElements>
          <camunda:properties>
            <camunda:property name="cond" value="#qualif=FALSE" />
          </camunda:properties>
        </bpmn:extensionElements>
      </bpmn:sequenceFlow>
      <bpmn:exclusiveGateway id="ExclusiveGateway_0zocpd2">
        <bpmn:incoming>SequenceFlow_0wms8r6</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0v9vnq6</bpmn:outgoing>
        <bpmn:outgoing>SequenceFlow_09147ut</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="SequenceFlow_0v9vnq6" sourceRef="ExclusiveGateway_0zocpd2" targetRef="EndEvent_04k63ar" />
      <bpmn:sequenceFlow id="SequenceFlow_09147ut" sourceRef="ExclusiveGateway_0zocpd2" targetRef="IntermediateCatchEvent_1rzywbo" />
    </bpmn:subProcess>
    <bpmn:boundaryEvent id="IntermediateThrowEvent_0g2acdr" attachedToRef="Task_1kt5nny">
      <bpmn:outgoing>SequenceFlow_00qfsgh</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_00c2pfk" />
    </bpmn:boundaryEvent>
    <bpmn:task id="Task_0gfuw13" name="Assign Winner">
      <bpmn:incoming>SequenceFlow_17kqnf2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0jb4v1n</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="SequenceFlow_17kqnf2" sourceRef="Task_1kt5nny" targetRef="Task_0gfuw13" />
    <bpmn:task id="Task_0uppe0m" name="Decide Eligible Candidates">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="pre" value="TRUE" />
          <camunda:property name="eff" value="UPDATE App SET App.Eligible=@v  CASE WHEN App.Score&#62;80 THEN @v=True  ELSE @v=False" />
        </camunda:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_00qfsgh</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_03i2cv4</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="SequenceFlow_00qfsgh" sourceRef="IntermediateThrowEvent_0g2acdr" targetRef="Task_0uppe0m" />
    <bpmn:exclusiveGateway id="ExclusiveGateway_0m6tvrq">
      <bpmn:incoming>SequenceFlow_0jb4v1n</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_1e948zh</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0l99bun</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0jb4v1n" sourceRef="Task_0gfuw13" targetRef="ExclusiveGateway_0m6tvrq" />
    <bpmn:task id="Task_1lxecd9" name="Select Winner">
      <bpmn:extensionElements>
        <camunda:properties>
          <camunda:property name="pre" value="SELECT Jcid, Uid, Name, Age, Score, Eligible FROM App WHERE Eligible=True" />
          <camunda:property name="eff" value="DELETE Jcid, Uid, Name, Age, Score, Eligible FROM App" />
          <camunda:property name="eff" value="#jcid = Jcid" />
          <camunda:property name="eff" value="#uid = Uid" />
          <camunda:property name="eff" value="#winner = Uid" />
          <camunda:property name="eff" value="#result = Eligible" />
        </camunda:properties>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_03i2cv4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1e948zh</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="SequenceFlow_03i2cv4" sourceRef="Task_0uppe0m" targetRef="Task_1lxecd9" />
    <bpmn:sequenceFlow id="SequenceFlow_1e948zh" sourceRef="Task_1lxecd9" targetRef="ExclusiveGateway_0m6tvrq" />
    <bpmn:task id="Task_0bu9oae" name="Make Offer">
      <bpmn:incoming>SequenceFlow_0l99bun</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0f14kzj</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="SequenceFlow_0l99bun" sourceRef="ExclusiveGateway_0m6tvrq" targetRef="Task_0bu9oae" />
    <bpmn:endEvent id="EndEvent_1odqux5">
      <bpmn:incoming>SequenceFlow_0f14kzj</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0f14kzj" sourceRef="Task_0bu9oae" targetRef="EndEvent_1odqux5" />
    <bpmn:dataStoreReference id="RepositoryID" name="Repository">
      <bpmn:documentation>App(Jcid:JobcatID, Uid:UserID, Name:StringName, Age:NumAge, Score:NumScore, Eligible:boolean)</bpmn:documentation>
    </bpmn:dataStoreReference>
    <bpmn:dataStoreReference id="CatalogID" name="Catalog">
      <bpmn:documentation>JobCategory(Jcid : jobcatID);
User(Uid : userID, Name : StringName, Age : NumAge);</bpmn:documentation>
    </bpmn:dataStoreReference>
    <bpmn:dataObjectReference id="ProcessVariablesID" name="Process variables" dataObjectRef="DataObject_1t17k7t">
      <bpmn:documentation>#jcid : jobcatID;
#uid : userID;
#age : NumAge;
#name : StringName;
#result : boolean;
#winner : userID;</bpmn:documentation>
    </bpmn:dataObjectReference>
    <bpmn:dataObject id="DataObject_1t17k7t" />
  </bpmn:process>
  <bpmn:message id="Message_00mztbs" />
  <bpmn:error id="Error_0v9hwi1" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1c7gz0u">
      <bpmndi:BPMNShape id="StartEvent_0k3dec9_di" bpmnElement="startEvent">
        <dc:Bounds x="162" y="158" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="152" y="201" width="56" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0vxfzwh_di" bpmnElement="SequenceFlow_0vxfzwh">
        <di:waypoint x="198" y="176" />
        <di:waypoint x="230" y="176" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="StartEvent_0x27842_di" bpmnElement="StartEvent_0x27842">
        <dc:Bounds x="252" y="92" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1x03ivf_di" bpmnElement="ExclusiveGateway_1x03ivf" isMarkerVisible="true">
        <dc:Bounds x="315" y="85" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0xt42o2_di" bpmnElement="SequenceFlow_0xt42o2">
        <di:waypoint x="288" y="110" />
        <di:waypoint x="315" y="110" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0wms8r6_di" bpmnElement="SequenceFlow_0wms8r6">
        <di:waypoint x="365" y="110" />
        <di:waypoint x="389" y="110" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="IntermediateCatchEvent_1rzywbo_di" bpmnElement="IntermediateCatchEvent_1rzywbo">
        <dc:Bounds x="462" y="92" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="453" y="135" width="54" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_0kwmdac_di" bpmnElement="Task_0kwmdac">
        <dc:Bounds x="530" y="70" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0o6u60i_di" bpmnElement="SequenceFlow_0o6u60i">
        <di:waypoint x="498" y="110" />
        <di:waypoint x="530" y="110" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1yu37gh_di" bpmnElement="EndEvent_04k63ar">
        <dc:Bounds x="562" y="162" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="560" y="205" width="41" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1u34kgn_di" bpmnElement="ExclusiveGateway_1u34kgn" isMarkerVisible="true">
        <dc:Bounds x="665" y="85" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_19kjve8_di" bpmnElement="SequenceFlow_19kjve8">
        <di:waypoint x="630" y="110" />
        <di:waypoint x="665" y="110" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Task_0ae5lbb_di" bpmnElement="Task_0ae5lbb">
        <dc:Bounds x="640" y="194" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_19vpnym_di" bpmnElement="SequenceFlow_19vpnym">
        <di:waypoint x="640" y="234" />
        <di:waypoint x="340" y="234" />
        <di:waypoint x="340" y="135" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_09r3vrf_di" bpmnElement="EndEvent_09r3vrf">
        <dc:Bounds x="742" y="92" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SubProcess_0by1nxv_di" bpmnElement="Task_1kt5nny" isExpanded="true">
        <dc:Bounds x="230" y="50" width="570" height="250" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BoundaryEvent_1wjzrqt_di" bpmnElement="IntermediateThrowEvent_0g2acdr">
        <dc:Bounds x="782" y="259" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Task_0gfuw13_di" bpmnElement="Task_0gfuw13">
        <dc:Bounds x="850" y="50" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_17kqnf2_di" bpmnElement="SequenceFlow_17kqnf2">
        <di:waypoint x="800" y="91" />
        <di:waypoint x="850" y="91" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Task_0uppe0m_di" bpmnElement="Task_0uppe0m">
        <dc:Bounds x="850" y="237" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_00qfsgh_di" bpmnElement="SequenceFlow_00qfsgh">
        <di:waypoint x="818" y="277" />
        <di:waypoint x="850" y="277" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0m6tvrq_di" bpmnElement="ExclusiveGateway_0m6tvrq" isMarkerVisible="true">
        <dc:Bounds x="1015" y="65" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0jb4v1n_di" bpmnElement="SequenceFlow_0jb4v1n">
        <di:waypoint x="950" y="90" />
        <di:waypoint x="1015" y="90" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Task_1lxecd9_di" bpmnElement="Task_1lxecd9">
        <dc:Bounds x="990" y="150" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_03i2cv4_di" bpmnElement="SequenceFlow_03i2cv4">
        <di:waypoint x="950" y="277" />
        <di:waypoint x="970" y="277" />
        <di:waypoint x="970" y="190" />
        <di:waypoint x="990" y="190" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1e948zh_di" bpmnElement="SequenceFlow_1e948zh">
        <di:waypoint x="1040" y="150" />
        <di:waypoint x="1040" y="115" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Task_0bu9oae_di" bpmnElement="Task_0bu9oae">
        <dc:Bounds x="1100" y="50" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0l99bun_di" bpmnElement="SequenceFlow_0l99bun">
        <di:waypoint x="1065" y="90" />
        <di:waypoint x="1100" y="90" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1odqux5_di" bpmnElement="EndEvent_1odqux5">
        <dc:Bounds x="1232" y="72" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0f14kzj_di" bpmnElement="SequenceFlow_0f14kzj">
        <di:waypoint x="1200" y="90" />
        <di:waypoint x="1232" y="90" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="DataStoreReference_13cpqen_di" bpmnElement="RepositoryID">
        <dc:Bounds x="335" y="335" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="334" y="392" width="53" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataStoreReference_1kwsura_di" bpmnElement="CatalogID">
        <dc:Bounds x="240" y="335" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="246" y="392" width="38" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataObjectReference_1c9clvy_di" bpmnElement="ProcessVariablesID">
        <dc:Bounds x="442" y="335" width="36" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="417" y="392" width="87" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1lbudh0_di" bpmnElement="SequenceFlow_1lbudh0">
        <di:waypoint x="715" y="110" />
        <di:waypoint x="742" y="110" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1iaew1a_di" bpmnElement="SequenceFlow_1iaew1a">
        <di:waypoint x="690" y="135" />
        <di:waypoint x="690" y="194" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_00cduxx_di" bpmnElement="ExclusiveGateway_0zocpd2" isMarkerVisible="true">
        <dc:Bounds x="389" y="85" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0v9vnq6_di" bpmnElement="SequenceFlow_0v9vnq6">
        <di:waypoint x="414" y="135" />
        <di:waypoint x="414" y="180" />
        <di:waypoint x="562" y="180" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_09147ut_di" bpmnElement="SequenceFlow_09147ut">
        <di:waypoint x="439" y="110" />
        <di:waypoint x="462" y="110" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
